# 스프링 API

API는 HTML 파일을 클라이언트에게 내려주는게 아니라 데이터 자체를 클라이언트에게 내려주는 것


```java
@GetMapping("hello-string")
    @ResponseBody
    public String helloString(@RequestParam("name")String name){
        return "hello" + name;
    }
```
위 코드에서 쓰인 ``` @ResponseBody ``` 는 HTML의 BODY가 아닌 HTTP의 Header 와 Body 할 때의 그 Body 입니다.

즉, 응답 Body부분에 직접 넣어주겠다는 말입니다!

실제 html을 돌려주는 소스와 ResponseBody로 돌려준 소스 비교입니다.
<img src='../img/0117_2.png'>

좌측이 ResponseBody로 돌려준 소스 입니다.


# java의 객체를 return으로 돌려주기 (json으로 받아와짐)

``` java
 @GetMapping("hello-api")
    @ResponseBody
    public Hello helloApi(@RequestParam("name")String name){
        Hello hello = new Hello();
        hello.setName(name);
        return  hello;
    }

    static class Hello {
        private String name;

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }
    }
```
<img src='../img/0117_3.png'>

<br/><br/><br/>

## ResponseBody의 동작 원리
<img src='../img/0118_1.png'>



단순 스트링은 STRING CONVERTER <br/>
JSON 타입은 JSON CONVERTER

참고) 클라이언트의 HTTP Accept헤더와 서버의 컨트롤러 반환 타입 정보를 조합해서 HttpMessageConverter가 선택됩니다.

















 
